<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Join us for Leab & Nha's wedding celebration!">
    <title>Leab & Nha Wedding</title>

    <!-- Preload critical resources -->
    <link rel="preload" href="images/logo.png" as="image">
    <link rel="preload" href="styles2.css" as="style">

    <link rel="stylesheet" href="styles2.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
    <!-- Initial Page -->
    <header id="welcome-page" role="banner">
        <div class="logo">
            <img src="images/logo.png" alt="Leab & Nha Wedding Logo" loading="lazy">
        </div>
        <div class="welcome-text">
            <img src="images/welcome_text.png" alt="Welcome to Our Wedding" class="full-width-image">
        </div>
        <div class="button-container">
            <button id="start-button" class="open_btn animation_btn" aria-label="Start Experience">
                Start
            </button>
        </div>
    </header>

    <!-- Pop-up Page -->
    <div id="popup-page" class="hidden">
        <img src="images/opening_img.jpg" alt="Wedding Opening Image" loading="lazy">
    </div>

    <!-- Main Content -->
    <main id="scrollable-page" class="hidden" role="main">
        <!-- Invitation Section -->
        <section class="invitation">
            <div class="invite-text">
                <img src="images/invite_text.png" alt="Wedding Invitation"
                    srcset="images/invite_text.png 1x, images/invite_text@2x.png 2x" class="full-width-image zoom-in"
                    loading="lazy">
            </div>

            <div class="button-container">
                <a href="https://calendar.app.google/Lhw5L4uFj4PU3icHA">
                    <button class="appointment_btn zoom-in" aria-label="Add to Calendar">
                        Add to Calendar
                    </button>
                </a>
            </div>

            <div class="invite-text">
                <img src="images/invite_text_eng.png" alt="English Invitation" class="full-width-image zoom-in"
                    loading="lazy">
            </div>
        </section>

        <!-- Location Section -->
        <section class="location">
            <div class="button-container">
                <a href="https://www.google.com/maps/...">
                    <button class="map_btn animation_btn" aria-label="View Map">
                        View Map
                    </button>
                </a>
            </div>
            <img src="images/qr_map.png" alt="Map QR Code" class="full-width-image zoom-in" loading="lazy">
        </section>

        <!-- Gallery Section -->
        <section class="gallery-section">
            <div class="gallery">
                <!-- Image Rows -->
                <div class="row">
                    <img src="images/images1.png" alt="Wedding Photo 1" class="large-image" loading="lazy"
                        onclick="openLightbox(0)">
                </div>
                <div class="row">
                    <img src="images/images2.png" alt="Wedding Photo 2" class="small-image" loading="lazy"
                        onclick="openLightbox(1)">
                    <img src="images/images3.png" alt="Wedding Photo 3" class="small-image" loading="lazy"
                        onclick="openLightbox(2)">
                </div>
                <div class="row">
                    <img src="images/images4.png" alt="Wedding Photo 4" class="large-image" loading="lazy"
                        onclick="openLightbox(3)">
                </div>
            </div>
        </section>

        <!-- Payment Section -->
        <section class="payment">
            <div class="payment-title">
                <img src="images/payment.png" alt="Payment Information" class="full-width-image" loading="lazy">
            </div>
            <div class="button-container">
                <a href="https://pay.ababank.com/AtGayxW3z57mejm37">
                    <button id="payment-button" class="payment_btn animation_btn" aria-label="Make Payment">
                        Payment
                    </button>
                </a>
            </div>
        </section>

        <!-- Footer Navigation -->
        <footer class="footer" role="navigation">
            <button class="action-btn" aria-label="Location" onclick="openLocation()">
                <i class="fa-solid fa-location-dot"></i>
            </button>
            <button class="action-btn" aria-label="Calendar" onclick="addToCalendar()">
                <i class="fa-solid fa-calendar-days"></i>
            </button>
            <button class="action-btn" aria-label="Gallery" onclick="viewImage()">
                <i class="fa-solid fa-images"></i>
            </button>
        </footer>
    </main>

    <!-- Lightbox Modal -->
    <div id="lightbox" class="lightbox hidden" role="dialog" aria-labelledby="lightbox-heading">
        <span class="close-btn" onclick="closeLightbox()" aria-label="Close">&times;</span>
        <button class="prev-btn" onclick="changeImage(-1)" aria-label="Previous Image">&#10094;</button>
        <button class="next-btn" onclick="changeImage(1)" aria-label="Next Image">&#10095;</button>
        <img src="" alt="Enlarged Wedding Photo" id="lightbox-image" class="lightbox-img">
    </div>

    <script>
        // DOM Elements
        const welcomePage = document.getElementById('welcome-page');
        const popupPage = document.getElementById('popup-page');
        const scrollablePage = document.getElementById('scrollable-page');
        const lightbox = document.getElementById('lightbox');
        const lightboxImage = document.getElementById('lightbox-image');

        // Image Array
        const images = [
            "images/images1.png",
            "images/images2.png",
            "images/images3.png",
            "images/images4.png"
        ];

        // Initial Setup
        document.getElementById('start-button').addEventListener('click', () => {
            welcomePage.style.display = 'none';
            popupPage.classList.remove('hidden');

            setTimeout(() => {
                popupPage.classList.add('hidden');
                scrollablePage.classList.remove('hidden');
            }, 3000); // 3 seconds
        });

        // Lightbox Functionality
        let currentIndex = 0;

        function openLightbox(index) {
            currentIndex = index;
            lightboxImage.src = images[currentIndex];
            lightbox.classList.remove('hidden');
            lightboxImage.focus();
        }

        function closeLightbox() {
            lightbox.classList.add('hidden');
        }

        function changeImage(step) {
            currentIndex = (currentIndex + step + images.length) % images.length;
            lightboxImage.src = images[currentIndex];
        }

        // Keyboard Navigation
        document.addEventListener('keydown', (e) => {
            if (!lightbox.classList.contains('hidden')) {
                if (e.key === 'Escape') closeLightbox();
                if (e.key === 'ArrowLeft') changeImage(-1);
                if (e.key === 'ArrowRight') changeImage(1);
            }
        });

        // Footer Actions
        function openLocation() {
            window.open('https://www.google.com/maps/...', '_blank');
        }

        function addToCalendar() {
            window.open('https://calendar.app.google/Lhw5L4uFj4PU3icHA', '_blank');
        }

        function viewImage() {
            // Implement image viewer functionality
        }
    </script>
</body>

</html>