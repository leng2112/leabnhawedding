<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- Use a direct, publicly accessible URL -->
  <meta property="og:title" content="Leab and Nha Wedding">
  <meta property="og:description" content="Together with our families, We hope you can join us to celebrate">
  <meta property="og:image" content="https://i.postimg.cc/V6jXFMTc/preview.jpg">
  <title>leab&nhawedding</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>

<body>
  <!-- First Page -->
  <header id="first-page">
    <div class="logo">
      <img src="images/logo.png" alt="">
    </div>
    <div class="welcome_text">
      <img src="images/welcome_text.png" alt="">
    </div>
    <h2 id="guestName">Guest</h2>
    <div class="button-container">
      <button id="start-button" class="open_btn animation_btn"></button>
    </div>
  </header>

  <!-- Pop-up Page -->
  <div id="popup-page">
    <img src="images/opening_img.jpg" alt="">
  </div>

  <!-- Scrollable Page -->
  <main id="scrollable-page">
    <section class="invite_text">
      <img src="images/invite_text.png" alt="" class="full-width-image zoom-in">
    </section>
    <section class="button-container">
      <a href="https://calendar.app.google/Lhw5L4uFj4PU3icHA">
        <button class="appointment_btn zoom-in"></button>
      </a>
    </section>
    <section class="invite_text">
      <img src="images/invite_text_eng.png" alt="" class="full-width-image zoom-in">
    </section>
    <section class="map">
      <div class="button-container">
        <a href="https://shorturl.at/MIezu">
          <button class="map_btn animation_btn"></button>
        </a>
      </div>
      <img src="images/qr_map.png" alt="" class="full-width-image zoom-in">
    </section>
    <section class="images">
      <!-- Image Gallery -->
      <div class="gallery">
        <!-- First Row: Single Large Image -->
        <div class="row">
          <img src="images/images1.png" alt="Gallery Image 1" class="large-image" onclick="openLightbox(0)">
        </div>
        <!-- Second Row: Two Smaller Images -->
        <div class="row">
          <img src="images/images2.png" alt="Gallery Image 2" class="small-image" onclick="openLightbox(1)">
          <img src="images/images3.png" alt="Gallery Image 3" class="small-image" onclick="openLightbox(2)">
        </div>
        <!-- Third Row: Single Large Image -->
        <div class="row">
          <img src="images/images4.png" alt="Gallery Image 4" class="large-image" onclick="openLightbox(3)">
        </div>
      </div>
      <div class="gallery">
        <!-- First Row: Single Large Image -->
        <div class="row">
          <img src="images/images5.png" alt="Gallery Image 5" class="large-image" onclick="openLightbox(4)">
        </div>
        <!-- Second Row: Two Smaller Images -->
        <div class="row">
          <img src="images/images6.png" alt="Gallery Image 6" class="small-image" onclick="openLightbox(5)">
          <img src="images/images7.png" alt="Gallery Image 7" class="small-image" onclick="openLightbox(6)">
        </div>
        <!-- Third Row: Single Large Image -->
        <div class="row">
          <img src="images/images8.png" alt="Gallery Image 8" class="large-image" onclick="openLightbox(7)">
        </div>
      </div>
      <!-- Lightbox Modal -->
      <div id="lightbox" class="lightbox hidden">
        <span class="close-btn" onclick="closeLightbox()">&times;</span>
        <button class="prev-btn" onclick="changeImage(-1)">&#10094;</button>
        <button class="next-btn" onclick="changeImage(1)">&#10095;</button>
        <img src="" alt="Enlarged Image" id="lightbox-image">
      </div>
    </section>
    <section class="payment">
      <div class="payment_title">
        <img src="images/payment.png" alt="" class="full-width-image">
      </div>
      <div class="button-container">
        <a href="https://pay.ababank.com/AtGayxW3z57mejm37">
          <button id="start-button" class="payment_btn animation_btn"></button>
        </a>
      </div>
    </section>
    <footer class="footer">
      <button class="action-btn" onclick="openLocation()">
        <i class="fa-solid fa-location-dot"></i>
      </button>
      <button class="action-btn" onclick="addToCalendar()">
        <i class="fa-solid fa-calendar-days"></i>
      </button>
      <button class="action-btn" onclick="viewImage()">
        <i class="fa-solid fa-images"></i>
      </button>
    </footer>
  </main>

  <script>
    // JavaScript Logic
    const firstPage = document.getElementById('first-page');
    const popupPage = document.getElementById('popup-page');
    const scrollablePage = document.getElementById('scrollable-page');

    document.getElementById('start-button').addEventListener('click', () => {
      // Hide the first page
      firstPage.style.display = 'none';

      // Show the pop-up page
      popupPage.style.display = 'flex';

      // After 3 seconds, hide the pop-up page and show the scrollable page
      setTimeout(() => {
        popupPage.style.display = 'none';
        scrollablePage.style.display = 'block';
      }, 1000); // 1000ms = 1 seconds
    });
    // Image Array
    const images = [
      "images/images1.png",
      "images/images2.png",
      "images/images3.png",
      "images/images4.png",
      "images/images5.png",
      "images/images6.png",
      "images/images7.png",
      "images/images8.png"
    ];

    let currentIndex = 0;

    // Open Lightbox
    function openLightbox(index) {
      currentIndex = index;
      const lightbox = document.getElementById("lightbox");
      const lightboxImage = document.getElementById("lightbox-image");

      lightboxImage.src = images[currentIndex];
      lightbox.classList.remove("hidden");
    }

    // Close Lightbox
    function closeLightbox() {
      const lightbox = document.getElementById("lightbox");
      lightbox.classList.add("hidden");
    }

    // Change Image
    function changeImage(step) {
      currentIndex += step;

      // Ensure currentIndex stays within bounds
      if (currentIndex < 0) {
        currentIndex = images.length - 1;
      } else if (currentIndex >= images.length) {
        currentIndex = 0;
      }

      const lightboxImage = document.getElementById("lightbox-image");
      lightboxImage.src = images[currentIndex];
    }
    // Footer Actions
    function openLocation() {
      window.open('https://shorturl.at/MIezu');
    }

    function addToCalendar() {
      window.open('https://calendar.app.google/Lhw5L4uFj4PU3icHA');
    }

    function viewImage() {
      // Implement image viewer functionality
    }

    // script.js
    document.addEventListener('DOMContentLoaded', () => {
      // Get the query string from the URL
      const queryString = window.location.search;

      // Parse the query string into an object
      const urlParams = new URLSearchParams(queryString);

      // Extract the 'name' parameter
      const guestName = urlParams.get('name');

      // Find the placeholder element in the HTML
      const namePlaceholder = document.getElementById('guestName');

      // Replace the placeholder with the guest's name
      if (guestName && guestName.trim() !== "") {
        namePlaceholder.textContent = decodeURIComponent(guestName); // Decode URL-encoded characters
      } else {
        namePlaceholder.textContent = "Guest"; // Default if no name is provided
      }
    });
  </script>

</body>

</html>